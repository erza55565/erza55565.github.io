let cardsArray = [{
        'image': '<img src="images/Clubberspot.png" class="img-fluid rounded">',
        'headerTitle': 'Clubberspot',
        'header': 'Clubberspot - project which helps to provide safe organization of concerts between venues and musicants from 1 side, and free newsletter for providing information about entertaining events from other side ',
        'link': '<b>MoreInfo:</b> <a href="https://clubberspot.com/">https://clubberspot.com/</a>',
        'team': '4 backend, 3 frontend, 2 mobile dev, 1 devops, 3 designers, 10 copywriters',

        'role': 'CTO',
        'footerList': '<li>Architecture.</li>' +
            '<li>BackEnd core features development.</li>' +
            '<li>Infrastructure deployment</li>' +
            '<li>Troubleshooting.</li>' +
            '<li>Preparing technical side of presentations for investors</li>',
        'footerResult': ''
    },
    {
        'image': '<img src="images/Sklad1.jpg" class="img-fluid rounded">',
        'headerTitle': 'Sklad#1',
        'header': 'Sklad#1 - marketplace for tires which is working for all countries in CIS. Consists of 3 parts: backend, frontend, analytic engine.',
        'link': '<b>MoreInfo:</b> <a href="https://skladn1.com/">https://skladn1.com/</a>',
        'team': '4 developers',
        'role': 'Architect',
        'footerList': '<li>Architecture.</li>' +
            '<li>BackEnd core features development.</li>' +
            '<li>Technical consultations.</li>' +
            '<li>Troubleshooting.</li>' +
            '<li>Performance Improvement.</li>',
        'footerResult': ''
    }, {
        'image': '<img src="images/Gran-Call.jpg" class="img-fluid rounded">',
        'headerTitle': 'Gran-Call',
        'header': 'Gran-Call contains internal system for supporting call-center and helps to exchange information between 40_000 users per second.',
        'link': '<b>MoreInfo:</b><a href="http://gran-soft.ru/">http://gran-soft.ru/</a>',
        'team': '7 developers',
        'role': 'Senior Software Engineer/ DevOps',
        'footerList': '<li>Architecture/Infrastructure.</li>' +
            '<li>Migration to the Cloud.</li>' +
            '<li>Technical consultations.</li>',
        'footerResult': ''
    },
    {
        'image': '<img src="images/blockchain infrastructure.jpg" class="img-fluid rounded">',
        'headerTitle': 'Payment banking based on blockchain infrastructure',
        'header': 'Research and investigation which blockchain network will be the best for specific payment transaction. The main idea is comparing, analyze, and select appropriate blockchain network for the specific business transaction. The goal was transaction size, time and confirmation.',
        'link': '<b>MoreInfo:</b> <a href="https://github.com/imaxfp/blockchain-workbench-rest">https://github.com/imaxfp/blockchain-workbench-rest</a>',
        'team': '3 backend, 3 frontend, 2 devops',

        'language': 'Java, Scala',
        'technologies': 'Docker, r3Corda, Hyperledger, Ethereum.',
        'platform': 'Cross-platform',
        'role': 'Architect / Core developer',
        'footerList': '<li>Architecture.</li>' +
            '<li>BackEnd core features development.</li>' +
            '<li>Technical consultations.</li>' +
            '<li>Troubleshooting.</li>' +
            '<li>Interviewing new employers.</li>' +
            '<li>Solving difficult technical issues.</li>',
        'footerResult': 'The POC has been launched. Customer tested transaction and selected appropriate technology for the production product.'
    },
    {
        'image': '<img src="images/Supply chain.jpg" class="img-fluid rounded">',
        'headerTitle': 'Supply chain solution for cargo delivery',
        'header': 'The main idea of the project is solving trust issue between businesses and merchants. Exclude human errors and proxies agents. Speed up transaction processing. ',
        'link': '',
        'team': '5 backend, 4 frontend, 2 devops',
        'language': 'Scala',
        'technologies': 'Docker, r3Corda',
        'platform': 'Cross-platform',
        'role': 'Architect / Core developer',
        'footerList': '<li>Architecture.</li>' +
            '<li>BackEnd core features development.</li>' +
            '<li>Technical consultations.</li>' +
            '<li>Troubleshooting.</li>' +
            '<li>Interviewing new employers.</li>' +
            '<li>Solving difficult technical issues.</li>',
        'footerResult': 'The project was launched in the production mode. Customer solved the issue with trust between different counterparties. Excluded agents and counterparties. Saved money and time. '
    }, {
        'image': '<img src="images/Prediction and searching financial instruments.jpg" class="img-fluid rounded">',
        'headerTitle': 'Prediction and searching financial instruments based on ML/AI algorithms',
        'header': 'ML based solution for searching similarities of different trading securities, bonds, etc. The main goal of the project - analyzing, classification and select closest financial instruments by the selected features. The project use mixed approach wit supervised and unsupervised learning. ',
        'link': '<b>Technologies and libs:</b> <a href="https://matplotlib.org">https://matplotlib.org</a>, <a href="https://scikit-learn.org">https://scikit-learn.org</a>, <a href="https://www.docker.com">https://www.docker.com</a>, <a href="https://pandas.pydata.org">https://pandas.pydata.org</a>',
        'team': '4 backend, 2 frontend, 1 devops',
        'language': 'Python, Java',

        'platform': 'Cross-platform',
        'role': 'Data scientist / Core developer ',
        'footerList': '<li>Data analyzing.</li>' +
            '<li>Architecture.</li>' +
            '<li>BackEnd core features development.</li>' +
            '<li>Technical consultations.</li>' +
            '<li>Troubleshooting.</li>',
        'footerResult': 'Project provides pipeline for analyzing financial instruments. Finding similarities by custom selected features on the big market data sets. Financial portfolio optimization and allocation. Determination of perspective financial instrument by the predefined policies and features.'
    }, {
        'image': '<img src="images/volatility financial instruments.jpg" class="img-fluid rounded">',
        'headerTitle': 'ML/AI based solution for prediction of volatility financial instruments',
        'header': 'The main idea is tracking selected financial indexes and features. Provide unsupervised cauterization algorithms and supervised learning based on big financial datasets.',
        'link': '<b>Technologies and libs:</b> <a href="https://matplotlib.org">https://matplotlib.org</a>,  <a href="https://scikit-learn.org">https://scikit-learn.org</a>, <a href="https://www.docker.com">https://www.docker.com</a>, <a href="https://pandas.pydata.org">https://pandas.pydata.org</a>',
        'team': '4 backend, 2 frontend, 1 devops',
        'language': 'Python, Java',

        'platform': 'Cross-platform',
        'role': 'Data scientist / Core developer ',
        'footerList': '<li>Data analyzing.</li>' +
            '<li>Architecture.</li>' +
            '<li>BackEnd core features development.</li>' +
            '<li>Technical consultations.</li>' +
            '<li>Troubleshooting.</li>',
        'footerResult': 'Traders and investors have got ML/AI helper for double-checking their hypothesis. Risk optimization, searching profitable trading strategies and perspective financial instruments.'
    }, {
        'image': '<img src="images/financial and trading industry.jpg" class="img-fluid rounded">',
        'headerTitle': 'The project was connected with financial and trading industry',
        'header': 'The main idea is clusterization and finding similarities between trading stocks.',
        'link': '',
        'team': '5 backend, 4 frontend, 2 devops',
        'language': 'Python, Java',
        'technologies': 'Docker, spring boot, hibernate,  sklearn, pandas, matplotlib, etc',
        'platform': 'Cross-platform',
        'role': 'Architect / Core developer ',
        'footerList': '<li>Architecture and development.</li>' +
            '<li>Data analyzes.</li>' +
            '<li>Applying ML algorithms.</li>' +
            '<li>Training models.</li>' +
            '<li>Troubleshooting.</li>',
        'footerResult': 'Pipeline for processing and prediction stocks was launched. Customer has got fast tool for researching and finding similarities of stocks by custom features. '
    }, {
        'image': '<img src="images/Messaging app.jpg" class="img-fluid rounded">',
        'headerTitle': 'Messaging app with blockchain wallet',
        'header': 'Messaging app with blockchain wallet, location based search of nearby users, Bluetooth and web support.',
        'link': '',
        'team': '2 mobile developers',
        'language': 'Kotlin',
        'technologies': 'Android SDK, Coroutines, Room, Koin',
        'platform': 'Android/iOS',
        'role': 'Core developers',
        'footerList': '<li>Architecture.</li>' +
            '<li>XMPP messaging.</li>' +
            '<li>Bluetooth messaging.</li>',
        'footerResult': ''
    }, {
        'image': '<img src="images/messaging-platform.jpg" class="img-fluid rounded">',
        'headerTitle': 'Corporate messaging platform',
        'header': 'Corporate messaging platform based on gRPC. Messaging features, voice and video calls, file and location sharing, independent corporate server.',
        'link': '',
        'team': '2 mobile developers',
        'language': 'Kotlin',
        'technologies': 'gRPC, RX Android, Room, Koin',
        'platform': 'Android/iOS',
        'role': 'Core developers',
        'footerList': '<li>Security features.</li>' +
            '<li>File sharing.</li>',
        'footerResult': ''
    }, {
        'image': '<img src="images/private taxi service.jpg" class="img-fluid rounded">',
        'headerTitle': 'Mobile client for private taxi service',
        'header': 'Rider/Driver apps, food delivery, navigation.',
        'link': '',
        'team': '5 mobile developers',
        'language': 'Java',
        'technologies': 'RX Android, SQLite, Eventbus, Google Maps Api',
        'platform': 'Android',
        'role': 'Core developers',
        'footerList': '<li>Architecture.</li>' +
            '<li>Implementing core functionality.</li>',
        'footerResult': ''
    }, {
        'image': '<img src="images/App for managing smart home.jpg" class="img-fluid rounded">',
        'headerTitle': 'App for managing smart home ecosystem',
        'header': 'App for managing smart home ecosystem including thermostats, sensors, smart bulbs, etc.',
        'link': '',
        'team': '5 mobile developers',
        'language': 'Java',
        'technologies': 'RX Android, Dagger 2, Mockito',
        'platform': 'Android',
        'role': 'Core developers',
        'footerList': '<li>Full refactoring of old app.</li>' +
            '<li>Support of new devices.</li>',
        'footerResult': ''
    }
];

let button = (tag, iconClass) => `<button class="btn mr-2 mb-2" type="button" disabled><i class="fas ${iconClass}"></i>${tag}</button>`;
let teamTag = (tag) => button(tag, "fa-user-friends px-1");
let languageTag = (tag) => button(tag, "fa-cog px-1");
let technologiesTag = (tag) => button(tag, "fa-cog px-1");
let platformTag = (tag) => button(tag, "fa-laptop px-1");
let roleTag = (tag) => button(tag, "fa-user-cog px-1");
let buildTag = (tag, tagFunction) => {
    if (!tag) {
        return '';
    }
    return tag.split(',').map(tagFunction).join('');
}

const buildBody = (team, language, technologies, platform, role) => {
    let body = '';
    body = body + buildTag(team, teamTag);
    body = body + buildTag(language, languageTag);
    body = body + buildTag(technologies, technologiesTag);
    body = body + buildTag(platform, platformTag);
    body = body + buildTag(role, roleTag);
    return body;
}

const card = ({ headerTitle, image, header, team, language, technologies, link, platform, role, footerList, footerResult }) => {

    let body = buildBody(team, language, technologies, platform, role);

    return ` 
<div class="col-lg-6 col-md-6 col-sm-12 mt-4">
    <div class="card h-100">
        <div class="card-view">
            <div class="card-img-top">${image}</div>
            <div class="card-mask"></div>
            <div class="text-center card-btn-off">${body}</div>
        </div>
        <div class="card-header">
            <h5 class="card-title text-center">${headerTitle}</h5>
            <p class="card-text text-justify">${header}</p>
        </div>
        <div class="card-body">
            <p class="card-text">
                <div class="mb-3 text-justify">
                    ${link}
                </div>
            </p>
        </div>
        <button class="btn content_toggle mx-auto btn-block" type="button">
            Tasks performed<i class="fas fa-chevron-down pl-2" id="chevron-icon"></i>
        </button>

        <div class="card-footer text-justify" style="display: none;">
            ${footerList}
            ${footerResult}
        </div>
    </div>
</div>
`
};

$(document).ready(function() {
    $('.header').height($(window).height());
    $('#cards').prepend(cardsArray.slice(0, 2).map(card).join(' '));
    $('#collapseCards').html(cardsArray.slice(2, cardsArray.length).map(card).join(' '));
    $('.content_toggle').each(function() {
        $(this).click(function() {
            $(this).next('.card-footer').slideToggle(300);
            $('#chevron-icon', this).toggleClass('fa-chevron-down fa-chevron-up');
            return false;
        });
    })
});

$("#contactForm").submit(function(event) {
    // cancels the form submission
    event.preventDefault();
    submitForm();
});

function submitForm() {

    $.ajax({
        type: "POST",
        url: "https://formsubmit.co/ajax/fcb3ef3ebf663fc83112ccdc5ed11906",
        data: {
            name: $("#name").val(),
            email: $("#email").val(),
            message: $("#message").val()
        },
        datatype: "json",
        success: function(result) {
            var data = $.parseJSON(result);
            console.log(data);
            console.log(data.success);
            if (data.success) {
                formSuccess();
            }
        }
    });
}

function formSuccess() {
    $("#msgSubmit").show();
}